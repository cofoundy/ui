import * as React from "react";
import { cva, type VariantProps } from "class-variance-authority";

import { cn } from "../../utils/cn";
import { Logo } from "./logo";

const logoHeaderVariants = cva(
  "cf-logo-header inline-flex items-center gap-2",
  {
    variants: {
      size: {
        sm: "gap-1.5",
        default: "gap-2",
        lg: "gap-3",
        xl: "gap-4",
      },
    },
    defaultVariants: {
      size: "default",
    },
  }
);

const wordmarkSizes = {
  sm: "h-5",
  default: "h-7",
  lg: "h-9",
  xl: "h-12",
};

const isoloSizes = {
  sm: "sm" as const,
  default: "default" as const,
  lg: "lg" as const,
  xl: "xl" as const,
};

interface LogoHeaderProps
  extends React.HTMLAttributes<HTMLDivElement>,
    VariantProps<typeof logoHeaderVariants> {
  /** Use monochrome version with current color */
  mono?: boolean;
  /** Hide the isologo, show only wordmark */
  wordmarkOnly?: boolean;
  /** Hide the wordmark, show only isologo */
  isologoOnly?: boolean;
}

/**
 * Cofoundy Logo Header - Horizontal layout with isologo + wordmark
 * Uses Recoleta Bold for the wordmark
 */
function LogoHeader({
  className,
  size = "default",
  mono = false,
  wordmarkOnly = false,
  isologoOnly = false,
  ...props
}: LogoHeaderProps) {
  const wordmarkSize = wordmarkSizes[size || "default"];
  const isoloSize = isoloSizes[size || "default"];

  // Wordmark path data (Recoleta Bold "Cofoundy")
  const wordmarkPath = "M26.42 72.72C39.96 72.72 46.37 63.86 46.73 54.72C46.80 52.34 44.14 51.84 42.77 53.42C40.68 56.45 37.30 61.06 30.60 61.06C22.39 61.06 14.40 51.91 14.40 37.87C14.40 29.88 18.58 25.34 23.11 25.34C31.75 25.34 31.61 39.67 40.61 39.67C44.35 39.67 46.58 37.30 46.58 33.98C46.58 26.42 36.94 20.23 25.70 20.23C11.23 20.23 1.73 31.18 1.73 45.79C1.73 59.76 12.02 72.72 26.42 72.72ZM69.84 72.72C80.35 72.72 89.06 65.30 89.06 54.79C89.06 44.21 80.14 36.72 69.34 36.72C59.04 36.72 49.90 43.99 49.90 54.65C49.90 65.09 58.82 72.72 69.84 72.72ZM71.35 69.19C65.52 69.19 62.64 55.08 62.64 49.25C62.64 43.42 63.86 40.25 67.32 40.25C73.01 40.25 75.96 54.72 75.96 60.34C75.96 65.74 74.74 69.19 71.35 69.19ZM108.50 22.82C113.69 22.82 109.51 32.83 118.01 32.83C121.18 32.83 122.69 30.46 122.69 28.51C122.69 23.62 117.58 19.37 111.17 19.37C100.73 19.37 96.26 25.85 96.26 33.84L96.26 37.44L91.58 37.44C90.65 37.44 89.93 38.16 89.93 39.10L89.93 40.68C89.93 41.62 90.65 42.34 91.58 42.34L96.26 42.34L96.26 64.08C96.26 67.46 93.38 68.33 93.38 70.34L93.38 70.63C93.38 71.50 94.03 72 95.04 72L110.88 72C111.89 72 112.54 71.50 112.54 70.63L112.54 70.34C112.54 68.33 108.65 67.46 108.65 64.08L108.65 42.34L116.50 42.34C117.43 42.34 118.15 41.62 118.15 40.68L118.15 39.10C118.15 38.16 117.43 37.44 116.50 37.44L108.36 37.44C106.42 33.98 103.18 22.82 108.50 22.82ZM137.52 72.72C148.03 72.72 156.74 65.30 156.74 54.79C156.74 44.21 147.82 36.72 137.02 36.72C126.72 36.72 117.58 43.99 117.58 54.65C117.58 65.09 126.50 72.72 137.52 72.72ZM139.03 69.19C133.20 69.19 130.32 55.08 130.32 49.25C130.32 43.42 131.54 40.25 135 40.25C140.69 40.25 143.64 54.72 143.64 60.34C143.64 65.74 142.42 69.19 139.03 69.19ZM196.92 64.08L196.92 38.52C196.92 37.22 195.84 36.79 193.75 37.08L183.02 38.52C182.02 38.66 181.37 39.38 181.37 40.18L181.37 40.46C181.37 42.26 184.25 43.13 184.25 46.51L184.25 60.77C184.25 65.16 182.16 67.97 179.50 67.97C176.33 67.97 174.82 65.74 174.89 59.83L175.10 38.52C175.10 37.22 173.81 36.79 171.72 37.08L160.99 38.52C159.98 38.66 159.34 39.38 159.34 40.18L159.34 40.46C159.34 42.26 162.22 43.13 162.22 46.51L162.22 58.54C162.22 67.75 168.41 72.72 175.68 72.72C180.58 72.72 183.96 71.14 185.83 68.26C186.19 71.35 188.14 72.43 192.60 72.43C197.21 72.43 200.02 72 200.02 70.06C200.02 67.10 196.92 69.91 196.92 64.08ZM242.14 64.15L241.20 51.70C240.34 40.25 233.71 36.72 227.45 36.72C222.70 36.72 219.10 38.66 217.15 42.12L217.15 38.74C217.15 37.30 216.22 36.07 214.42 37.01L204.34 41.98C203.33 42.48 202.61 42.91 202.61 43.78L202.61 43.99C202.61 46.08 206.42 46.51 206.42 49.97L206.42 64.15C206.42 67.46 203.26 68.33 203.26 70.42L203.26 70.70C203.26 71.57 203.90 72.07 204.98 72.07L220.54 72.07C221.62 72.07 222.26 71.57 222.26 70.70L222.26 70.42C222.26 68.33 219.10 67.46 219.10 64.15L219.10 48.46C219.10 44.28 220.61 41.47 223.78 41.47C227.02 41.47 228.38 44.14 228.74 51.26L229.46 64.15C229.68 67.46 226.87 68.33 226.87 70.42L226.87 70.70C226.87 71.57 227.52 72.07 228.60 72.07L243 72.07C244.01 72.07 244.73 71.57 244.73 70.70L244.73 70.42C244.73 68.33 242.35 67.46 242.14 64.15ZM283.90 64.15L283.90 19.51C283.90 17.57 282.82 17.14 280.73 17.78L269.50 21.17C268.49 21.46 267.84 22.25 267.84 23.04L267.84 23.26C267.84 25.34 271.66 25.78 271.66 29.16L271.66 38.74C269.71 37.44 267.26 36.72 264.24 36.72C255.17 36.72 247.18 43.99 247.18 54.72C247.18 66.53 255.46 72.72 264.17 72.72C267.70 72.72 270.79 71.57 272.95 69.55L272.95 70.20C272.95 71.28 273.67 72 274.82 72L285.12 72C286.13 72 286.78 71.50 286.78 70.63L286.78 70.34C286.78 68.33 283.90 67.46 283.90 64.15ZM267.05 69.19C261.65 68.98 259.27 55.15 259.49 49.10C259.70 43.34 261.65 40.25 265.18 40.25C268.49 40.25 271.66 44.64 271.66 49.25L271.66 63.14C271.66 67.03 269.50 69.26 267.05 69.19ZM327.17 37.44L317.52 37.44C316.58 37.44 315.86 38.02 315.86 38.88L315.86 39.17C315.86 41.18 321.26 41.90 319.25 46.80L312.62 62.86L305.28 45.58C303.55 41.54 306.29 41.18 306.29 39.17L306.29 38.88C306.29 38.02 305.64 37.44 304.70 37.44L289.22 37.44C288.22 37.44 287.57 37.94 287.57 38.81L287.57 39.10C287.57 41.18 289.87 42.05 291.60 45.43L306.22 74.30C304.34 78.77 301.68 83.66 299.45 83.66C296.06 83.66 298.30 74.09 291.38 74.09C288.14 74.09 286.27 76.10 286.27 79.13C286.27 83.30 290.66 87.48 297.72 87.48C305.28 87.48 309.31 79.20 311.33 74.74L324.94 45.43C326.38 42.19 328.82 41.18 328.82 39.10L328.82 38.81C328.82 37.94 328.18 37.44 327.17 37.44Z";

  if (isologoOnly) {
    return (
      <div className={cn(logoHeaderVariants({ size }), className)} {...props}>
        <Logo size={isoloSize} mono={mono} />
      </div>
    );
  }

  return (
    <div className={cn(logoHeaderVariants({ size }), className)} {...props}>
      {!wordmarkOnly && <Logo size={isoloSize} mono={mono} />}
      <svg
        viewBox="1.73 17.5 328 70"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className={cn(wordmarkSize, "w-auto")}
        aria-label="Cofoundy"
      >
        <path d={wordmarkPath} fill="currentColor" />
      </svg>
    </div>
  );
}

/**
 * Standalone Wordmark component (Recoleta Bold "Cofoundy")
 */
function Wordmark({
  className,
  ...props
}: React.SVGProps<SVGSVGElement>) {
  const wordmarkPath = "M26.42 72.72C39.96 72.72 46.37 63.86 46.73 54.72C46.80 52.34 44.14 51.84 42.77 53.42C40.68 56.45 37.30 61.06 30.60 61.06C22.39 61.06 14.40 51.91 14.40 37.87C14.40 29.88 18.58 25.34 23.11 25.34C31.75 25.34 31.61 39.67 40.61 39.67C44.35 39.67 46.58 37.30 46.58 33.98C46.58 26.42 36.94 20.23 25.70 20.23C11.23 20.23 1.73 31.18 1.73 45.79C1.73 59.76 12.02 72.72 26.42 72.72ZM69.84 72.72C80.35 72.72 89.06 65.30 89.06 54.79C89.06 44.21 80.14 36.72 69.34 36.72C59.04 36.72 49.90 43.99 49.90 54.65C49.90 65.09 58.82 72.72 69.84 72.72ZM71.35 69.19C65.52 69.19 62.64 55.08 62.64 49.25C62.64 43.42 63.86 40.25 67.32 40.25C73.01 40.25 75.96 54.72 75.96 60.34C75.96 65.74 74.74 69.19 71.35 69.19ZM108.50 22.82C113.69 22.82 109.51 32.83 118.01 32.83C121.18 32.83 122.69 30.46 122.69 28.51C122.69 23.62 117.58 19.37 111.17 19.37C100.73 19.37 96.26 25.85 96.26 33.84L96.26 37.44L91.58 37.44C90.65 37.44 89.93 38.16 89.93 39.10L89.93 40.68C89.93 41.62 90.65 42.34 91.58 42.34L96.26 42.34L96.26 64.08C96.26 67.46 93.38 68.33 93.38 70.34L93.38 70.63C93.38 71.50 94.03 72 95.04 72L110.88 72C111.89 72 112.54 71.50 112.54 70.63L112.54 70.34C112.54 68.33 108.65 67.46 108.65 64.08L108.65 42.34L116.50 42.34C117.43 42.34 118.15 41.62 118.15 40.68L118.15 39.10C118.15 38.16 117.43 37.44 116.50 37.44L108.36 37.44C106.42 33.98 103.18 22.82 108.50 22.82ZM137.52 72.72C148.03 72.72 156.74 65.30 156.74 54.79C156.74 44.21 147.82 36.72 137.02 36.72C126.72 36.72 117.58 43.99 117.58 54.65C117.58 65.09 126.50 72.72 137.52 72.72ZM139.03 69.19C133.20 69.19 130.32 55.08 130.32 49.25C130.32 43.42 131.54 40.25 135 40.25C140.69 40.25 143.64 54.72 143.64 60.34C143.64 65.74 142.42 69.19 139.03 69.19ZM196.92 64.08L196.92 38.52C196.92 37.22 195.84 36.79 193.75 37.08L183.02 38.52C182.02 38.66 181.37 39.38 181.37 40.18L181.37 40.46C181.37 42.26 184.25 43.13 184.25 46.51L184.25 60.77C184.25 65.16 182.16 67.97 179.50 67.97C176.33 67.97 174.82 65.74 174.89 59.83L175.10 38.52C175.10 37.22 173.81 36.79 171.72 37.08L160.99 38.52C159.98 38.66 159.34 39.38 159.34 40.18L159.34 40.46C159.34 42.26 162.22 43.13 162.22 46.51L162.22 58.54C162.22 67.75 168.41 72.72 175.68 72.72C180.58 72.72 183.96 71.14 185.83 68.26C186.19 71.35 188.14 72.43 192.60 72.43C197.21 72.43 200.02 72 200.02 70.06C200.02 67.10 196.92 69.91 196.92 64.08ZM242.14 64.15L241.20 51.70C240.34 40.25 233.71 36.72 227.45 36.72C222.70 36.72 219.10 38.66 217.15 42.12L217.15 38.74C217.15 37.30 216.22 36.07 214.42 37.01L204.34 41.98C203.33 42.48 202.61 42.91 202.61 43.78L202.61 43.99C202.61 46.08 206.42 46.51 206.42 49.97L206.42 64.15C206.42 67.46 203.26 68.33 203.26 70.42L203.26 70.70C203.26 71.57 203.90 72.07 204.98 72.07L220.54 72.07C221.62 72.07 222.26 71.57 222.26 70.70L222.26 70.42C222.26 68.33 219.10 67.46 219.10 64.15L219.10 48.46C219.10 44.28 220.61 41.47 223.78 41.47C227.02 41.47 228.38 44.14 228.74 51.26L229.46 64.15C229.68 67.46 226.87 68.33 226.87 70.42L226.87 70.70C226.87 71.57 227.52 72.07 228.60 72.07L243 72.07C244.01 72.07 244.73 71.57 244.73 70.70L244.73 70.42C244.73 68.33 242.35 67.46 242.14 64.15ZM283.90 64.15L283.90 19.51C283.90 17.57 282.82 17.14 280.73 17.78L269.50 21.17C268.49 21.46 267.84 22.25 267.84 23.04L267.84 23.26C267.84 25.34 271.66 25.78 271.66 29.16L271.66 38.74C269.71 37.44 267.26 36.72 264.24 36.72C255.17 36.72 247.18 43.99 247.18 54.72C247.18 66.53 255.46 72.72 264.17 72.72C267.70 72.72 270.79 71.57 272.95 69.55L272.95 70.20C272.95 71.28 273.67 72 274.82 72L285.12 72C286.13 72 286.78 71.50 286.78 70.63L286.78 70.34C286.78 68.33 283.90 67.46 283.90 64.15ZM267.05 69.19C261.65 68.98 259.27 55.15 259.49 49.10C259.70 43.34 261.65 40.25 265.18 40.25C268.49 40.25 271.66 44.64 271.66 49.25L271.66 63.14C271.66 67.03 269.50 69.26 267.05 69.19ZM327.17 37.44L317.52 37.44C316.58 37.44 315.86 38.02 315.86 38.88L315.86 39.17C315.86 41.18 321.26 41.90 319.25 46.80L312.62 62.86L305.28 45.58C303.55 41.54 306.29 41.18 306.29 39.17L306.29 38.88C306.29 38.02 305.64 37.44 304.70 37.44L289.22 37.44C288.22 37.44 287.57 37.94 287.57 38.81L287.57 39.10C287.57 41.18 289.87 42.05 291.60 45.43L306.22 74.30C304.34 78.77 301.68 83.66 299.45 83.66C296.06 83.66 298.30 74.09 291.38 74.09C288.14 74.09 286.27 76.10 286.27 79.13C286.27 83.30 290.66 87.48 297.72 87.48C305.28 87.48 309.31 79.20 311.33 74.74L324.94 45.43C326.38 42.19 328.82 41.18 328.82 39.10L328.82 38.81C328.82 37.94 328.18 37.44 327.17 37.44Z";

  return (
    <svg
      viewBox="1.73 17.5 328 70"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={cn("h-7 w-auto", className)}
      aria-label="Cofoundy"
      {...props}
    >
      <path d={wordmarkPath} fill="currentColor" />
    </svg>
  );
}

export { LogoHeader, logoHeaderVariants, Wordmark };
